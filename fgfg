-- Delta –∞–≤—Ç–æ-—Å–ø–∞–º —Å–∫—Ä–∏–ø—Ç –¥–ª—è MM2 —Å Server Hop
local Players = game:GetService("Players")
local TeleportService = game:GetService("TeleportService")
local HttpService = game:GetService("HttpService")
local player = Players.LocalPlayer
local placeId = game.PlaceId

-- –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –º—ã –≤ MM2
if placeId ~= 142823291 then
    warn("‚ùå –≠—Ç–æ –Ω–µ MM2! –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –≤ Murder Mystery 2")
    return
end

-- –§–ª–∞–≥ –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ –≤ Delta
getgenv().AutoSpamEnabled = true

local messages = {
    "üíé –ü—Ä–æ–¥–∞–º Godly –¥–µ—à–µ–≤–æ –∑–∞ –≥—Ä–Ω. Hexon_Shop",
    "üî• Godly –∑–∞ –≥—Ä–∏–≤–Ω—ã. –ë—ã—Å—Ç—Ä–æ. Hexon_Shop",
    "üí∞ –ö—É–ø–∏—Ç—å Godly –Ω–µ–¥–æ—Ä–æ–≥–æ. Hexon_Shop",
    "üéÆ Godly –ø–æ –≤—ã–≥–æ–¥–Ω–æ–π —Ü–µ–Ω–µ. Hexon_Shop",
    "‚≠ê Godly –¥–ª—è —Ç—Ä–µ–π–¥–∞. Hexon_Shop",
    "‚ö° –î–µ—à–µ–≤—ã–π Godly –∑–∞ –≥—Ä–Ω. Hexon_Shop",
    "üîî –ü—Ä–æ–¥–∞–∂–∞ Godly. Hexon_Shop",
    "‚ú® Godly –≤ –Ω–∞–ª–∏—á–∏–∏. Hexon_Shop",
    "üöÄ –ü–æ–∫—É–ø–∞–π Godly. Hexon_Shop",
    "üíØ Godly –ø–æ –Ω–∏–∑–∫–æ–π —Ü–µ–Ω–µ. Hexon_Shop"
}

-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–Ω–∏—è
local function shuffle(tbl)
    local copy = {}
    for i, v in ipairs(tbl) do
        copy[i] = v
    end
    for i = #copy, 2, -1 do
        local j = math.random(i)
        copy[i], copy[j] = copy[j], copy[i]
    end
    return copy
end

-- –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
local function sendMessage(text)
    -- –ü—Ä–æ–±—É–µ–º —Å—Ç–∞—Ä—ã–π —á–∞—Ç
    local success1 = pcall(function()
        game:GetService("ReplicatedStorage").DefaultChatSystemChatEvents.SayMessageRequest:FireServer(text, "All")
    end)
    
    -- –ü—Ä–æ–±—É–µ–º –Ω–æ–≤—ã–π —á–∞—Ç
    local success2 = pcall(function()
        game:GetService("TextChatService").TextChannels.RBXGeneral:SendAsync(text)
    end)
    
    return success1 or success2
end

-- –ü—Ä–æ—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è Server Hop
local function serverHop()
    -- –ü—ã—Ç–∞–µ–º—Å—è –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤
    local servers = {}
    
    local success, result = pcall(function()
        local url = "https://games.roblox.com/v1/games/" .. placeId .. "/servers/Public?sortOrder=Asc&limit=25"
        local response = game:HttpGetAsync(url)
        local data = HttpService:JSONDecode(response)
        return data
    end)
    
    if success and result and result.data then
        for _, server in ipairs(result.data) do
            if server.id ~= game.JobId and server.playing < (server.maxPlayers or 12) then
                table.insert(servers, server.id)
            end
        end
    end
    
    if #servers > 0 then
        -- –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
        local targetServer = servers[math.random(1, #servers)]
        
        local hopSuccess = pcall(function()
            TeleportService:TeleportToPlaceInstance(placeId, targetServer, player)
        end)
        
        if hopSuccess then
            return true
        end
    end
    
    -- –ï—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å, –æ–±—ã—á–Ω—ã–π —Ç–µ–ª–µ–ø–æ—Ä—Ç
    pcall(function()
        TeleportService:Teleport(placeId)
    end)
    
    return false
end

-- –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
local function mainLoop()
    print("ü§ñ –ê–≤—Ç–æ-—Å–ø–∞–º –∑–∞–ø—É—â–µ–Ω! Server Hop –∞–∫—Ç–∏–≤–µ–Ω.")
    
    while getgenv().AutoSpamEnabled do
        -- –ñ–¥–µ–º –∑–∞–≥—Ä—É–∑–∫–∏
        task.wait(5)
        
        -- –ü—Ä–æ–≤–µ—Ä—è–µ–º —á–∞—Ç
        local chatReady = false
        for i = 1, 5 do
            local oldChat = pcall(function() 
                return game:GetService("ReplicatedStorage"):FindFirstChild("DefaultChatSystemChatEvents") 
            end)
            
            if oldChat then
                chatReady = true
                break
            end
            task.wait(1)
        end
        
        if chatReady then
            -- –û—Ç–ø—Ä–∞–≤–ª—è–µ–º 5 —Å–æ–æ–±—â–µ–Ω–∏–π
            local shuffled = shuffle(messages)
            
            for i = 1, 5 do
                if not getgenv().AutoSpamEnabled then break end
                
                sendMessage(shuffled[i])
                print("üì¢ –°–æ–æ–±—â–µ–Ω–∏–µ " .. i .. "/5 –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ")
                
                if i < 5 then
                    task.wait(math.random(2, 3))
                end
            end
            
            -- Server Hop –ø–æ—Å–ª–µ 5 —Å–æ–æ–±—â–µ–Ω–∏–π
            if getgenv().AutoSpamEnabled then
                print("üîÑ –î–µ–ª–∞—é Server Hop...")
                task.wait(1)
                serverHop()
            end
            
        else
            -- –ï—Å–ª–∏ —á–∞—Ç –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è, –ø—Ä–æ–±—É–µ–º –ø–µ—Ä–µ–∑–∞–π—Ç–∏
            print("‚ö†Ô∏è –ß–∞—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –¥–µ–ª–∞—é Server Hop...")
            task.wait(2)
            serverHop()
        end
        
        -- –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–µ–π
        task.wait(8)
    end
end

-- –ê–≤—Ç–æ-–∑–∞–ø—É—Å–∫ —Å—Ä–∞–∑—É –±–µ–∑ GUI
print("========================================")
print("ü§ñ MM2 AUTO-SPAM - –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò–ô –†–ï–ñ–ò–ú")
print("üì¢ –ê–≤—Ç–æ-—Ä–µ–∫–ª–∞–º–∞ Godly | Hexon_Shop")
print("üì¢ 5 —Å–æ–æ–±—â–µ–Ω–∏–π -> Server Hop -> –ü–æ–≤—Ç–æ—Ä")
print("========================================")

-- –ñ–¥–µ–º –Ω–µ–º–Ω–æ–≥–æ –∏ –∑–∞–ø—É—Å–∫–∞–µ–º
task.wait(3)

-- –ó–∞–ø—É—Å–∫–∞–µ–º –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ
coroutine.wrap(mainLoop)()

print("‚úÖ –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—â–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!")
print("‚ÑπÔ∏è –†–∞–±–æ—Ç–∞–µ—Ç –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ")

-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
getgenv().StopSpam = function()
    getgenv().AutoSpamEnabled = false
    print("‚èπÔ∏è –°–ø–∞–º –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤—Ä—É—á–Ω—É—é")
end

-- –ê–≤—Ç–æ-–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –∏–≥—Ä—ã
game:GetService("Players").PlayerRemoving:Connect(function(leavingPlayer)
    if leavingPlayer == player then
        getgenv().AutoSpamEnabled = false
    end
end)

print("‚ÑπÔ∏è –î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤–≤–µ–¥–∏—Ç–µ: StopSpam()")
